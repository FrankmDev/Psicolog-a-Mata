---
interface ScheduleItem {
	day: string;
	hours: string;
	closed?: boolean;
}

interface ContactInfo {
	icon: string;
	title: string;
	content: string;
	link?: string;
	linkText?: string;
	subtext?: string;
}

interface Props {
	title?: string;
	contactInfo?: ContactInfo[];
	schedule?: ScheduleItem[];
}

const { 
	title = "Información de Contacto",
	contactInfo = [
		{
			icon: "location_on",
			title: "Nuestra Oficina",
			content: "123 Wellness Blvd, Oficina 400<br/>San Francisco, CA 94110",
			link: "#",
			linkText: "Cómo llegar"
		},
		{
			icon: "call",
			title: "Teléfono y Fax",
			content: "(555) 123-4567",
			link: "tel:+15551234567",
			subtext: "Fax: (555) 123-4568"
		},
		{
			icon: "mail",
			title: "Correo Electrónico",
			content: "hola@mindfultherapy.com",
			link: "mailto:hola@mindfultherapy.com"
		}
	],
	schedule = [
		{ day: "Lun - Jue", hours: "9:00 AM - 6:00 PM" },
		{ day: "Viernes", hours: "9:00 AM - 3:00 PM" },
		{ day: "Sáb - Dom", hours: "Cerrado", closed: true }
	]
} = Astro.props;
---

<div class="rounded-3xl bg-primary-light dark:bg-[#1a2024] p-8 lg:p-10 border border-transparent dark:border-gray-800">
	<h3 class="text-lg font-bold text-text-main dark:text-white mb-8 uppercase tracking-wider text-primary">{title}</h3>
	
	<div class="space-y-8">
		{contactInfo.map((info) => (
			<div class="flex items-start gap-5 group">
				<div class="flex size-12 shrink-0 items-center justify-center rounded-xl bg-white text-primary shadow-sm dark:bg-[#252a30] group-hover:scale-110 transition-transform duration-300">
					<span class="material-symbols-outlined">{info.icon}</span>
				</div>
				<div>
					<h4 class="font-bold text-text-main dark:text-white text-lg">{info.title}</h4>
					<p class="text-text-muted dark:text-gray-400 mt-2 leading-relaxed" set:html={info.content} />
					{info.link && (
						<a class="inline-block mt-2 text-sm font-semibold text-primary hover:text-primary-dark hover:underline underline-offset-4" href={info.link}>
							{info.linkText || info.content}
						</a>
					)}
					{info.subtext && (
						<p class="text-sm text-text-muted dark:text-gray-500 mt-1">{info.subtext}</p>
					)}
				</div>
			</div>
		))}
	</div>
	
	<div class="mt-10 pt-8 border-t border-gray-200 dark:border-gray-700">
		<h4 class="font-bold text-text-main dark:text-white mb-4 flex items-center gap-2 text-sm uppercase tracking-wide">
			<span class="material-symbols-outlined text-primary text-lg">schedule</span>
			Horario de Atención
		</h4>
		<ul class="space-y-3 text-sm text-text-muted dark:text-gray-400">
			{schedule.map((item) => (
				<li class="flex justify-between items-center pb-2 border-b border-gray-100 dark:border-gray-700/50">
					<span>{item.day}</span> 
					<span class={`font-semibold ${item.closed ? 'text-text-muted/70 italic' : 'text-text-main dark:text-gray-200 bg-white dark:bg-gray-800 px-2 py-1 rounded'}`}>{item.hours}</span>
				</li>
			))}
		</ul>
	</div>
</div>
