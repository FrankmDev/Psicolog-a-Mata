---
interface Plan {
	title: string;
	price: string;
	period: string;
	description: string;
	features: string[];
	highlighted?: boolean;
}

interface Props {
	title?: string;
	subtitle?: string;
	plans?: Plan[];
}

const { 
	title = "Inversión en tu bienestar",
	subtitle = "Tarifas transparentes para que puedas centrarte en lo importante: tu salud mental.",
	plans = [
		{
			title: "Consulta inicial",
			price: "Gratis",
			period: "20 min",
			description: "Conocernos y evaluar si soy la profesional adecuada para ti.",
			features: ["Videoconferencia", "Sin compromiso"],
			highlighted: false
		},
		{
			title: "Sesión individual",
			price: "60€",
			period: "50 min",
			description: "Sesión terapéutica completa adaptada a tus necesidades.",
			features: ["Presencial u online", "Plan personalizado", "Material de apoyo"],
			highlighted: true
		},
		{
			title: "Sesión pareja",
			price: "80€",
			period: "75 min",
			description: "Sesión conjunta enfocada en mejorar la relación.",
			features: ["Ambos miembros", "Técnicas específicas"],
			highlighted: false
		}
	]
} = Astro.props;
---

<section class="relative py-20 lg:py-28 bg-cream overflow-hidden">
	<div class="absolute inset-0 bg-grain opacity-[0.01] pointer-events-none"></div>
	
	<div class="relative max-w-6xl mx-auto px-6 lg:px-12">
		<div class="text-center mb-14 lg:mb-18">
			<span class="inline-block font-mono text-[10px] tracking-[0.2em] uppercase text-stone/40 mb-4">Tarifas</span>
			<h2 class="font-display text-4xl lg:text-5xl text-charcoal leading-[0.95] tracking-[-0.02em] mb-4">
				{title.split(' ').map((word, i) => 
					i === title.split(' ').length - 1 
						? `<span class="text-sage italic">${word}</span>`
						: word + ' '
				).join('')}
			</h2>
			<p class="text-stone/50 max-w-lg mx-auto">{subtitle}</p>
		</div>
		
		<div class="grid md:grid-cols-3 gap-5">
			{plans.map((plan) => (
				<div class={`relative group ${plan.highlighted ? 'md:-mt-4 md:mb-4' : ''}`}>
					{plan.highlighted && (
						<div class="absolute -top-3 left-1/2 -translate-x-1/2 z-10">
							<span class="bg-sage text-ivory text-[10px] font-medium px-4 py-1.5 rounded-full">
								Más solicitado
							</span>
						</div>
					)}
					
					<div class={`h-full p-7 rounded-2xl transition-all duration-500 ${
						plan.highlighted 
							? 'bg-charcoal text-ivory' 
							: 'bg-white border border-charcoal/[0.04] hover:border-sage/20'
					}`}>
						<div class="mb-6">
							<h3 class={`font-display text-xl mb-1 ${plan.highlighted ? 'text-ivory' : 'text-charcoal'}`}>
								{plan.title}
							</h3>
							<p class={`text-sm ${plan.highlighted ? 'text-mist/60' : 'text-stone/50'}`}>
								{plan.description}
							</p>
						</div>
						
						<div class="flex items-baseline gap-1.5 mb-6">
							<span class={`font-display text-4xl tracking-[-0.02em] ${plan.highlighted ? 'text-ivory' : 'text-charcoal'}`}>
								{plan.price}
							</span>
							<span class={`text-sm ${plan.highlighted ? 'text-mist/40' : 'text-stone/40'}`}>
								/ {plan.period}
							</span>
						</div>
						
						<ul class="space-y-2.5 mb-7">
							{plan.features.map((feature) => (
								<li class="flex items-center gap-2.5">
									<svg class={`w-4 h-4 shrink-0 ${plan.highlighted ? 'text-sage' : 'text-sage/70'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.5 12.75l6 6 9-13.5" />
									</svg>
									<span class={`text-sm ${plan.highlighted ? 'text-ivory/80' : 'text-stone/60'}`}>
										{feature}
									</span>
								</li>
							))}
						</ul>
						
						<a 
							href="/contact" 
							class={`block text-center text-sm font-medium py-3 px-5 rounded-xl transition-all duration-300 ${
								plan.highlighted 
									? 'bg-sage text-ivory hover:bg-sage-dark' 
									: 'bg-charcoal text-ivory hover:bg-graphite'
							}`}
						>
							{plan.price === "Gratis" ? "Reservar" : "Agendar sesión"}
						</a>
					</div>
				</div>
			))}
		</div>
		
		<div class="mt-12 text-center">
			<p class="text-sm text-stone/50">
				¿Necesitas un pack de sesiones? 
				<a href="/contact" class="text-sage hover:text-sage-dark transition-colors cursor-pointer">Consulta opciones personalizadas</a>
			</p>
		</div>
	</div>
</section>
