---
interface Props {
	icon: string;
	title: string;
	description: string;
	href?: string;
	image?: string;
	features?: string[];
	class?: string;
}

const { icon, title, description, href = '#', image, features = [], class: className = '' } = Astro.props;
---

<a 
	href={href}
	class={`group relative block bg-white rounded-2xl overflow-hidden transition-all duration-500 hover:shadow-2xl hover:shadow-charcoal/10 hover:-translate-y-2 ${className}`}
>
	<!-- Gradient hover overlay -->
	<div class="absolute inset-0 bg-gradient-to-br from-sage/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
	
	{image ? (
		<!-- Card con imagen -->
		<div class="relative">
			<div class="aspect-[4/3] overflow-hidden">
				<img 
					src={image} 
					alt={title} 
					class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" 
				/>
				<div class="absolute inset-0 bg-gradient-to-t from-charcoal/60 via-charcoal/20 to-transparent"></div>
			</div>
			
			<!-- Contenido sobre imagen -->
			<div class="absolute bottom-0 left-0 right-0 p-6">
				<div class="flex items-center gap-2 mb-2">
					<span class="material-symbols-outlined text-sage text-lg">{icon}</span>
					<h3 class="font-display text-xl text-ivory">{title}</h3>
				</div>
				<p class="text-sm text-ivory/80 line-clamp-2">{description}</p>
			</div>
			
			<!-- Flecha -->
			<div class="absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
				<svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
				</svg>
			</div>
		</div>
	) : (
		<!-- Card sin imagen -->
		<div class="relative p-6 lg:p-8">
			<!-- Icono -->
			<div class="w-14 h-14 bg-cream rounded-2xl flex items-center justify-center mb-5 group-hover:bg-sage/10 group-hover:scale-105 transition-all duration-300">
				<span class="material-symbols-outlined text-2xl text-sage">{icon}</span>
			</div>
			
			<!-- Contenido -->
			<h3 class="font-display text-xl text-charcoal mb-3 group-hover:text-sage transition-colors duration-300">
				{title}
			</h3>
			
			<p class="text-sm text-stone/60 leading-relaxed mb-4">
				{description}
			</p>
			
			<!-- Features -->
			{features.length > 0 && (
				<div class="flex flex-wrap gap-2 mb-4">
					{features.slice(0, 3).map((feature) => (
						<span class="inline-flex items-center px-2.5 py-1 bg-cream rounded-full text-[11px] text-stone/70">
							{feature}
						</span>
					))}
				</div>
			)}
			
			<!-- Link -->
			<div class="flex items-center gap-2 text-sm font-medium text-charcoal group-hover:text-sage transition-colors duration-300">
				<span>Saber más</span>
				<svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
				</svg>
			</div>
		</div>
	)}
	
	<!-- Línea decorativa inferior -->
	<div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-sage/0 via-sage/30 to-sage/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div>
</a>
