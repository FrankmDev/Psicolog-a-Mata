---
interface Props {
	question: string;
	index?: number;
	class?: string;
}

const { question, index, class: className = '' } = Astro.props;
---

<details class={`group bg-white rounded-[var(--radius-lg)] border border-charcoal/5 transition-all duration-400 hover:border-sage/20 hover:shadow-md open:shadow-lg open:border-sage/30 ${className}`}>
	<summary class="flex cursor-pointer items-center justify-between gap-5 p-5 lg:p-6 select-none">
		<div class="flex items-center gap-4">
			{index !== undefined && (
				<span class="font-mono text-sm text-sage shrink-0">{String(index + 1).padStart(2, '0')}</span>
			)}
			<h3 class="text-base lg:text-lg font-medium text-charcoal group-open:text-sage transition-colors duration-300">
				{question}
			</h3>
		</div>
		<div class="w-10 h-10 bg-cream rounded-[var(--radius-md)] flex items-center justify-center shrink-0 group-hover:bg-sage/10 group-open:bg-sage/10 transition-colors duration-300">
			<span class="material-symbols-outlined text-sage group-open:rotate-180 transition-transform duration-400">expand_more</span>
		</div>
	</summary>
	<div class="px-5 lg:px-6 pb-5 lg:pb-6 text-stone leading-relaxed animate-fade-in">
		<slot />
	</div>
</details>

<style>
	details[open] .animate-fade-in {
		animation: fadeIn 0.3s ease-out;
	}
	
	@keyframes fadeIn {
		from {
			opacity: 0;
			transform: translateY(-8px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>
